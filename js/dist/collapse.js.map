{"version":3,"file":"collapse.js","sources":["../src/collapse.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.6.2): collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * Constants\n */\n\nconst NAME = 'collapse'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.collapse'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_COLLAPSE = 'collapse'\nconst CLASS_NAME_COLLAPSING = 'collapsing'\nconst CLASS_NAME_COLLAPSED = 'collapsed'\n\nconst DIMENSION_WIDTH = 'width'\nconst DIMENSION_HEIGHT = 'height'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_ACTIVES = '.show, .collapsing'\nconst SELECTOR_DATA_TOGGLE = '[data-toggle=\"collapse\"]'\n\nconst Default = {\n  toggle: true,\n  parent: ''\n}\n\nconst DefaultType = {\n  toggle: 'boolean',\n  parent: '(string|element)'\n}\n\n/**\n * Class definition\n */\n\nclass Collapse {\n  constructor(element, config) {\n    this._isTransitioning = false\n    this._element = element\n    this._config = this._getConfig(config)\n    this._triggerArray = [].slice.call(document.querySelectorAll(\n      `[data-toggle=\"collapse\"][href=\"#${element.id}\"],` +\n      `[data-toggle=\"collapse\"][data-target=\"#${element.id}\"]`\n    ))\n\n    const toggleList = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE))\n    for (let i = 0, len = toggleList.length; i < len; i++) {\n      const elem = toggleList[i]\n      const selector = Util.getSelectorFromElement(elem)\n      const filterElement = [].slice.call(document.querySelectorAll(selector))\n        .filter(foundElem => foundElem === element)\n\n      if (selector !== null && filterElement.length > 0) {\n        this._selector = selector\n        this._triggerArray.push(elem)\n      }\n    }\n\n    this._parent = this._config.parent ? this._getParent() : null\n\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._element, this._triggerArray)\n    }\n\n    if (this._config.toggle) {\n      this.toggle()\n    }\n  }\n\n  // Getters\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // Public\n  toggle() {\n    if ($(this._element).hasClass(CLASS_NAME_SHOW)) {\n      this.hide()\n    } else {\n      this.show()\n    }\n  }\n\n  show() {\n    if (this._isTransitioning ||\n      $(this._element).hasClass(CLASS_NAME_SHOW)) {\n      return\n    }\n\n    let actives\n    let activesData\n\n    if (this._parent) {\n      actives = [].slice.call(this._parent.querySelectorAll(SELECTOR_ACTIVES))\n        .filter(elem => {\n          if (typeof this._config.parent === 'string') {\n            return elem.getAttribute('data-parent') === this._config.parent\n          }\n\n          return elem.classList.contains(CLASS_NAME_COLLAPSE)\n        })\n\n      if (actives.length === 0) {\n        actives = null\n      }\n    }\n\n    if (actives) {\n      activesData = $(actives).not(this._selector).data(DATA_KEY)\n      if (activesData && activesData._isTransitioning) {\n        return\n      }\n    }\n\n    const startEvent = $.Event(EVENT_SHOW)\n    $(this._element).trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) {\n      return\n    }\n\n    if (actives) {\n      Collapse._jQueryInterface.call($(actives).not(this._selector), 'hide')\n      if (!activesData) {\n        $(actives).data(DATA_KEY, null)\n      }\n    }\n\n    const dimension = this._getDimension()\n\n    $(this._element)\n      .removeClass(CLASS_NAME_COLLAPSE)\n      .addClass(CLASS_NAME_COLLAPSING)\n\n    this._element.style[dimension] = 0\n\n    if (this._triggerArray.length) {\n      $(this._triggerArray)\n        .removeClass(CLASS_NAME_COLLAPSED)\n        .attr('aria-expanded', true)\n    }\n\n    this.setTransitioning(true)\n\n    const complete = () => {\n      $(this._element)\n        .removeClass(CLASS_NAME_COLLAPSING)\n        .addClass(`${CLASS_NAME_COLLAPSE} ${CLASS_NAME_SHOW}`)\n\n      this._element.style[dimension] = ''\n\n      this.setTransitioning(false)\n\n      $(this._element).trigger(EVENT_SHOWN)\n    }\n\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1)\n    const scrollSize = `scroll${capitalizedDimension}`\n    const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n    $(this._element)\n      .one(Util.TRANSITION_END, complete)\n      .emulateTransitionEnd(transitionDuration)\n\n    this._element.style[dimension] = `${this._element[scrollSize]}px`\n  }\n\n  hide() {\n    if (this._isTransitioning ||\n      !$(this._element).hasClass(CLASS_NAME_SHOW)) {\n      return\n    }\n\n    const startEvent = $.Event(EVENT_HIDE)\n    $(this._element).trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) {\n      return\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`\n\n    Util.reflow(this._element)\n\n    $(this._element)\n      .addClass(CLASS_NAME_COLLAPSING)\n      .removeClass(`${CLASS_NAME_COLLAPSE} ${CLASS_NAME_SHOW}`)\n\n    const triggerArrayLength = this._triggerArray.length\n    if (triggerArrayLength > 0) {\n      for (let i = 0; i < triggerArrayLength; i++) {\n        const trigger = this._triggerArray[i]\n        const selector = Util.getSelectorFromElement(trigger)\n\n        if (selector !== null) {\n          const $elem = $([].slice.call(document.querySelectorAll(selector)))\n          if (!$elem.hasClass(CLASS_NAME_SHOW)) {\n            $(trigger).addClass(CLASS_NAME_COLLAPSED)\n              .attr('aria-expanded', false)\n          }\n        }\n      }\n    }\n\n    this.setTransitioning(true)\n\n    const complete = () => {\n      this.setTransitioning(false)\n      $(this._element)\n        .removeClass(CLASS_NAME_COLLAPSING)\n        .addClass(CLASS_NAME_COLLAPSE)\n        .trigger(EVENT_HIDDEN)\n    }\n\n    this._element.style[dimension] = ''\n    const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n    $(this._element)\n      .one(Util.TRANSITION_END, complete)\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  setTransitioning(isTransitioning) {\n    this._isTransitioning = isTransitioning\n  }\n\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n\n    this._config = null\n    this._parent = null\n    this._element = null\n    this._triggerArray = null\n    this._isTransitioning = null\n  }\n\n  // Private\n  _getConfig(config) {\n    config = {\n      ...Default,\n      ...config\n    }\n    config.toggle = Boolean(config.toggle) // Coerce string values\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _getDimension() {\n    const hasWidth = $(this._element).hasClass(DIMENSION_WIDTH)\n    return hasWidth ? DIMENSION_WIDTH : DIMENSION_HEIGHT\n  }\n\n  _getParent() {\n    let parent\n\n    if (Util.isElement(this._config.parent)) {\n      parent = this._config.parent\n\n      // It's a jQuery object\n      if (typeof this._config.parent.jquery !== 'undefined') {\n        parent = this._config.parent[0]\n      }\n    } else {\n      parent = document.querySelector(this._config.parent)\n    }\n\n    const selector = `[data-toggle=\"collapse\"][data-parent=\"${this._config.parent}\"]`\n    const children = [].slice.call(parent.querySelectorAll(selector))\n\n    $(children).each((i, element) => {\n      this._addAriaAndCollapsedClass(\n        Collapse._getTargetFromElement(element),\n        [element]\n      )\n    })\n\n    return parent\n  }\n\n  _addAriaAndCollapsedClass(element, triggerArray) {\n    const isOpen = $(element).hasClass(CLASS_NAME_SHOW)\n\n    if (triggerArray.length) {\n      $(triggerArray)\n        .toggleClass(CLASS_NAME_COLLAPSED, !isOpen)\n        .attr('aria-expanded', isOpen)\n    }\n  }\n\n  // Static\n  static _getTargetFromElement(element) {\n    const selector = Util.getSelectorFromElement(element)\n    return selector ? document.querySelector(selector) : null\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      const $element = $(this)\n      let data = $element.data(DATA_KEY)\n      const _config = {\n        ...Default,\n        ...$element.data(),\n        ...(typeof config === 'object' && config ? config : {})\n      }\n\n      if (!data && _config.toggle && typeof config === 'string' && /show|hide/.test(config)) {\n        _config.toggle = false\n      }\n\n      if (!data) {\n        data = new Collapse(this, _config)\n        $element.data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\n$(document).on(EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.currentTarget.tagName === 'A') {\n    event.preventDefault()\n  }\n\n  const $trigger = $(this)\n  const selector = Util.getSelectorFromElement(this)\n  const selectors = [].slice.call(document.querySelectorAll(selector))\n\n  $(selectors).each(function () {\n    const $target = $(this)\n    const data = $target.data(DATA_KEY)\n    const config = data ? 'toggle' : $trigger.data()\n    Collapse._jQueryInterface.call($target, config)\n  })\n})\n\n/**\n * jQuery\n */\n\n$.fn[NAME] = Collapse._jQueryInterface\n$.fn[NAME].Constructor = Collapse\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Collapse._jQueryInterface\n}\n\nexport default Collapse\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","CLASS_NAME_SHOW","CLASS_NAME_COLLAPSE","CLASS_NAME_COLLAPSING","CLASS_NAME_COLLAPSED","DIMENSION_WIDTH","DIMENSION_HEIGHT","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_CLICK_DATA_API","SELECTOR_ACTIVES","SELECTOR_DATA_TOGGLE","Default","toggle","parent","DefaultType","Collapse","element","config","_isTransitioning","_element","_config","_getConfig","_triggerArray","slice","call","document","querySelectorAll","id","toggleList","i","len","length","elem","selector","Util","getSelectorFromElement","filterElement","filter","foundElem","_selector","push","_parent","_getParent","_addAriaAndCollapsedClass","_proto","prototype","hasClass","hide","show","_this","actives","activesData","getAttribute","classList","contains","not","data","startEvent","Event","trigger","isDefaultPrevented","_jQueryInterface","dimension","_getDimension","removeClass","addClass","style","attr","setTransitioning","complete","capitalizedDimension","toUpperCase","scrollSize","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","emulateTransitionEnd","_this2","getBoundingClientRect","reflow","triggerArrayLength","$elem","isTransitioning","dispose","removeData","_extends","Boolean","typeCheckConfig","hasWidth","_this3","isElement","jquery","querySelector","children","each","_getTargetFromElement","triggerArray","isOpen","toggleClass","$element","test","TypeError","_createClass","key","get","on","event","currentTarget","tagName","preventDefault","$trigger","selectors","$target","Constructor","noConflict"],"mappings":"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"}