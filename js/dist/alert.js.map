{"version":3,"file":"alert.js","sources":["../src/alert.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.6.2): alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * Constants\n */\n\nconst NAME = 'alert'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.alert'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst CLASS_NAME_ALERT = 'alert'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\nconst EVENT_CLOSE = `close${EVENT_KEY}`\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_DISMISS = '[data-dismiss=\"alert\"]'\n\n/**\n * Class definition\n */\n\nclass Alert {\n  constructor(element) {\n    this._element = element\n  }\n\n  // Getters\n  static get VERSION() {\n    return VERSION\n  }\n\n  // Public\n  close(element) {\n    let rootElement = this._element\n    if (element) {\n      rootElement = this._getRootElement(element)\n    }\n\n    const customEvent = this._triggerCloseEvent(rootElement)\n\n    if (customEvent.isDefaultPrevented()) {\n      return\n    }\n\n    this._removeElement(rootElement)\n  }\n\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // Private\n  _getRootElement(element) {\n    const selector = Util.getSelectorFromElement(element)\n    let parent = false\n\n    if (selector) {\n      parent = document.querySelector(selector)\n    }\n\n    if (!parent) {\n      parent = $(element).closest(`.${CLASS_NAME_ALERT}`)[0]\n    }\n\n    return parent\n  }\n\n  _triggerCloseEvent(element) {\n    const closeEvent = $.Event(EVENT_CLOSE)\n\n    $(element).trigger(closeEvent)\n    return closeEvent\n  }\n\n  _removeElement(element) {\n    $(element).removeClass(CLASS_NAME_SHOW)\n\n    if (!$(element).hasClass(CLASS_NAME_FADE)) {\n      this._destroyElement(element)\n      return\n    }\n\n    const transitionDuration = Util.getTransitionDurationFromElement(element)\n\n    $(element)\n      .one(Util.TRANSITION_END, event => this._destroyElement(element, event))\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  _destroyElement(element) {\n    $(element)\n      .detach()\n      .trigger(EVENT_CLOSED)\n      .remove()\n  }\n\n  // Static\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      const $element = $(this)\n      let data = $element.data(DATA_KEY)\n\n      if (!data) {\n        data = new Alert(this)\n        $element.data(DATA_KEY, data)\n      }\n\n      if (config === 'close') {\n        data[config](this)\n      }\n    })\n  }\n\n  static _handleDismiss(alertInstance) {\n    return function (event) {\n      if (event) {\n        event.preventDefault()\n      }\n\n      alertInstance.close(this)\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\n$(document).on(\n  EVENT_CLICK_DATA_API,\n  SELECTOR_DISMISS,\n  Alert._handleDismiss(new Alert())\n)\n\n/**\n * jQuery\n */\n\n$.fn[NAME] = Alert._jQueryInterface\n$.fn[NAME].Constructor = Alert\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Alert._jQueryInterface\n}\n\nexport default Alert\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","CLASS_NAME_ALERT","CLASS_NAME_FADE","CLASS_NAME_SHOW","EVENT_CLOSE","EVENT_CLOSED","EVENT_CLICK_DATA_API","SELECTOR_DISMISS","Alert","element","_element","_proto","prototype","close","rootElement","_getRootElement","customEvent","_triggerCloseEvent","isDefaultPrevented","_removeElement","dispose","removeData","selector","Util","getSelectorFromElement","parent","document","querySelector","closest","closeEvent","Event","trigger","_this","removeClass","hasClass","_destroyElement","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","event","emulateTransitionEnd","detach","remove","_jQueryInterface","config","each","$element","data","_handleDismiss","alertInstance","preventDefault","_createClass","key","get","on","Constructor","noConflict"],"mappings":"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"}