{"version":3,"file":"carousel.js","sources":["../src/carousel.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.6.2): carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * Constants\n */\n\nconst NAME = 'carousel'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.carousel'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst ARROW_LEFT_KEYCODE = 37 // KeyboardEvent.which value for left arrow key\nconst ARROW_RIGHT_KEYCODE = 39 // KeyboardEvent.which value for right arrow key\nconst TOUCHEVENT_COMPAT_WAIT = 500 // Time for mouse compat events to fire after touch\nconst SWIPE_THRESHOLD = 40\n\nconst CLASS_NAME_CAROUSEL = 'carousel'\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_SLIDE = 'slide'\nconst CLASS_NAME_RIGHT = 'carousel-item-right'\nconst CLASS_NAME_LEFT = 'carousel-item-left'\nconst CLASS_NAME_NEXT = 'carousel-item-next'\nconst CLASS_NAME_PREV = 'carousel-item-prev'\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event'\n\nconst DIRECTION_NEXT = 'next'\nconst DIRECTION_PREV = 'prev'\nconst DIRECTION_LEFT = 'left'\nconst DIRECTION_RIGHT = 'right'\n\nconst EVENT_SLIDE = `slide${EVENT_KEY}`\nconst EVENT_SLID = `slid${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY}`\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY}`\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY}`\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY}`\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY}`\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_ACTIVE = '.active'\nconst SELECTOR_ACTIVE_ITEM = '.active.carousel-item'\nconst SELECTOR_ITEM = '.carousel-item'\nconst SELECTOR_ITEM_IMG = '.carousel-item img'\nconst SELECTOR_NEXT_PREV = '.carousel-item-next, .carousel-item-prev'\nconst SELECTOR_INDICATORS = '.carousel-indicators'\nconst SELECTOR_DATA_SLIDE = '[data-slide], [data-slide-to]'\nconst SELECTOR_DATA_RIDE = '[data-ride=\"carousel\"]'\n\nconst Default = {\n  interval: 5000,\n  keyboard: true,\n  slide: false,\n  pause: 'hover',\n  wrap: true,\n  touch: true\n}\n\nconst DefaultType = {\n  interval: '(number|boolean)',\n  keyboard: 'boolean',\n  slide: '(boolean|string)',\n  pause: '(string|boolean)',\n  wrap: 'boolean',\n  touch: 'boolean'\n}\n\nconst PointerType = {\n  TOUCH: 'touch',\n  PEN: 'pen'\n}\n\n/**\n * Class definition\n */\n\nclass Carousel {\n  constructor(element, config) {\n    this._items = null\n    this._interval = null\n    this._activeElement = null\n    this._isPaused = false\n    this._isSliding = false\n    this.touchTimeout = null\n    this.touchStartX = 0\n    this.touchDeltaX = 0\n\n    this._config = this._getConfig(config)\n    this._element = element\n    this._indicatorsElement = this._element.querySelector(SELECTOR_INDICATORS)\n    this._touchSupported = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0\n    this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent)\n\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // Public\n  next() {\n    if (!this._isSliding) {\n      this._slide(DIRECTION_NEXT)\n    }\n  }\n\n  nextWhenVisible() {\n    const $element = $(this._element)\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden &&\n      ($element.is(':visible') && $element.css('visibility') !== 'hidden')) {\n      this.next()\n    }\n  }\n\n  prev() {\n    if (!this._isSliding) {\n      this._slide(DIRECTION_PREV)\n    }\n  }\n\n  pause(event) {\n    if (!event) {\n      this._isPaused = true\n    }\n\n    if (this._element.querySelector(SELECTOR_NEXT_PREV)) {\n      Util.triggerTransitionEnd(this._element)\n      this.cycle(true)\n    }\n\n    clearInterval(this._interval)\n    this._interval = null\n  }\n\n  cycle(event) {\n    if (!event) {\n      this._isPaused = false\n    }\n\n    if (this._interval) {\n      clearInterval(this._interval)\n      this._interval = null\n    }\n\n    if (this._config.interval && !this._isPaused) {\n      this._updateInterval()\n\n      this._interval = setInterval(\n        (document.visibilityState ? this.nextWhenVisible : this.next).bind(this),\n        this._config.interval\n      )\n    }\n  }\n\n  to(index) {\n    this._activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM)\n\n    const activeIndex = this._getItemIndex(this._activeElement)\n\n    if (index > this._items.length - 1 || index < 0) {\n      return\n    }\n\n    if (this._isSliding) {\n      $(this._element).one(EVENT_SLID, () => this.to(index))\n      return\n    }\n\n    if (activeIndex === index) {\n      this.pause()\n      this.cycle()\n      return\n    }\n\n    const direction = index > activeIndex ?\n      DIRECTION_NEXT :\n      DIRECTION_PREV\n\n    this._slide(direction, this._items[index])\n  }\n\n  dispose() {\n    $(this._element).off(EVENT_KEY)\n    $.removeData(this._element, DATA_KEY)\n\n    this._items = null\n    this._config = null\n    this._element = null\n    this._interval = null\n    this._isPaused = null\n    this._isSliding = null\n    this._activeElement = null\n    this._indicatorsElement = null\n  }\n\n  // Private\n  _getConfig(config) {\n    config = {\n      ...Default,\n      ...config\n    }\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _handleSwipe() {\n    const absDeltax = Math.abs(this.touchDeltaX)\n\n    if (absDeltax <= SWIPE_THRESHOLD) {\n      return\n    }\n\n    const direction = absDeltax / this.touchDeltaX\n\n    this.touchDeltaX = 0\n\n    // swipe left\n    if (direction > 0) {\n      this.prev()\n    }\n\n    // swipe right\n    if (direction < 0) {\n      this.next()\n    }\n  }\n\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      $(this._element).on(EVENT_KEYDOWN, event => this._keydown(event))\n    }\n\n    if (this._config.pause === 'hover') {\n      $(this._element)\n        .on(EVENT_MOUSEENTER, event => this.pause(event))\n        .on(EVENT_MOUSELEAVE, event => this.cycle(event))\n    }\n\n    if (this._config.touch) {\n      this._addTouchEventListeners()\n    }\n  }\n\n  _addTouchEventListeners() {\n    if (!this._touchSupported) {\n      return\n    }\n\n    const start = event => {\n      if (this._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n        this.touchStartX = event.originalEvent.clientX\n      } else if (!this._pointerEvent) {\n        this.touchStartX = event.originalEvent.touches[0].clientX\n      }\n    }\n\n    const move = event => {\n      // ensure swiping with one touch and not pinching\n      this.touchDeltaX = event.originalEvent.touches && event.originalEvent.touches.length > 1 ?\n        0 :\n        event.originalEvent.touches[0].clientX - this.touchStartX\n    }\n\n    const end = event => {\n      if (this._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n        this.touchDeltaX = event.originalEvent.clientX - this.touchStartX\n      }\n\n      this._handleSwipe()\n      if (this._config.pause === 'hover') {\n        // If it's a touch-enabled device, mouseenter/leave are fired as\n        // part of the mouse compatibility events on first tap - the carousel\n        // would stop cycling until user tapped out of it;\n        // here, we listen for touchend, explicitly pause the carousel\n        // (as if it's the second time we tap on it, mouseenter compat event\n        // is NOT fired) and after a timeout (to allow for mouse compatibility\n        // events to fire) we explicitly restart cycling\n\n        this.pause()\n        if (this.touchTimeout) {\n          clearTimeout(this.touchTimeout)\n        }\n\n        this.touchTimeout = setTimeout(event => this.cycle(event), TOUCHEVENT_COMPAT_WAIT + this._config.interval)\n      }\n    }\n\n    $(this._element.querySelectorAll(SELECTOR_ITEM_IMG))\n      .on(EVENT_DRAG_START, e => e.preventDefault())\n\n    if (this._pointerEvent) {\n      $(this._element).on(EVENT_POINTERDOWN, event => start(event))\n      $(this._element).on(EVENT_POINTERUP, event => end(event))\n\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT)\n    } else {\n      $(this._element).on(EVENT_TOUCHSTART, event => start(event))\n      $(this._element).on(EVENT_TOUCHMOVE, event => move(event))\n      $(this._element).on(EVENT_TOUCHEND, event => end(event))\n    }\n  }\n\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return\n    }\n\n    switch (event.which) {\n      case ARROW_LEFT_KEYCODE:\n        event.preventDefault()\n        this.prev()\n        break\n      case ARROW_RIGHT_KEYCODE:\n        event.preventDefault()\n        this.next()\n        break\n      default:\n    }\n  }\n\n  _getItemIndex(element) {\n    this._items = element && element.parentNode ?\n      [].slice.call(element.parentNode.querySelectorAll(SELECTOR_ITEM)) :\n      []\n    return this._items.indexOf(element)\n  }\n\n  _getItemByDirection(direction, activeElement) {\n    const isNextDirection = direction === DIRECTION_NEXT\n    const isPrevDirection = direction === DIRECTION_PREV\n    const activeIndex = this._getItemIndex(activeElement)\n    const lastItemIndex = this._items.length - 1\n    const isGoingToWrap = isPrevDirection && activeIndex === 0 ||\n                            isNextDirection && activeIndex === lastItemIndex\n\n    if (isGoingToWrap && !this._config.wrap) {\n      return activeElement\n    }\n\n    const delta = direction === DIRECTION_PREV ? -1 : 1\n    const itemIndex = (activeIndex + delta) % this._items.length\n\n    return itemIndex === -1 ?\n      this._items[this._items.length - 1] : this._items[itemIndex]\n  }\n\n  _triggerSlideEvent(relatedTarget, eventDirectionName) {\n    const targetIndex = this._getItemIndex(relatedTarget)\n    const fromIndex = this._getItemIndex(this._element.querySelector(SELECTOR_ACTIVE_ITEM))\n    const slideEvent = $.Event(EVENT_SLIDE, {\n      relatedTarget,\n      direction: eventDirectionName,\n      from: fromIndex,\n      to: targetIndex\n    })\n\n    $(this._element).trigger(slideEvent)\n\n    return slideEvent\n  }\n\n  _setActiveIndicatorElement(element) {\n    if (this._indicatorsElement) {\n      const indicators = [].slice.call(this._indicatorsElement.querySelectorAll(SELECTOR_ACTIVE))\n      $(indicators).removeClass(CLASS_NAME_ACTIVE)\n\n      const nextIndicator = this._indicatorsElement.children[\n        this._getItemIndex(element)\n      ]\n\n      if (nextIndicator) {\n        $(nextIndicator).addClass(CLASS_NAME_ACTIVE)\n      }\n    }\n  }\n\n  _updateInterval() {\n    const element = this._activeElement || this._element.querySelector(SELECTOR_ACTIVE_ITEM)\n\n    if (!element) {\n      return\n    }\n\n    const elementInterval = parseInt(element.getAttribute('data-interval'), 10)\n\n    if (elementInterval) {\n      this._config.defaultInterval = this._config.defaultInterval || this._config.interval\n      this._config.interval = elementInterval\n    } else {\n      this._config.interval = this._config.defaultInterval || this._config.interval\n    }\n  }\n\n  _slide(direction, element) {\n    const activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM)\n    const activeElementIndex = this._getItemIndex(activeElement)\n    const nextElement = element || activeElement &&\n      this._getItemByDirection(direction, activeElement)\n    const nextElementIndex = this._getItemIndex(nextElement)\n    const isCycling = Boolean(this._interval)\n\n    let directionalClassName\n    let orderClassName\n    let eventDirectionName\n\n    if (direction === DIRECTION_NEXT) {\n      directionalClassName = CLASS_NAME_LEFT\n      orderClassName = CLASS_NAME_NEXT\n      eventDirectionName = DIRECTION_LEFT\n    } else {\n      directionalClassName = CLASS_NAME_RIGHT\n      orderClassName = CLASS_NAME_PREV\n      eventDirectionName = DIRECTION_RIGHT\n    }\n\n    if (nextElement && $(nextElement).hasClass(CLASS_NAME_ACTIVE)) {\n      this._isSliding = false\n      return\n    }\n\n    const slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName)\n    if (slideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      return\n    }\n\n    this._isSliding = true\n\n    if (isCycling) {\n      this.pause()\n    }\n\n    this._setActiveIndicatorElement(nextElement)\n    this._activeElement = nextElement\n\n    const slidEvent = $.Event(EVENT_SLID, {\n      relatedTarget: nextElement,\n      direction: eventDirectionName,\n      from: activeElementIndex,\n      to: nextElementIndex\n    })\n\n    if ($(this._element).hasClass(CLASS_NAME_SLIDE)) {\n      $(nextElement).addClass(orderClassName)\n\n      Util.reflow(nextElement)\n\n      $(activeElement).addClass(directionalClassName)\n      $(nextElement).addClass(directionalClassName)\n\n      const transitionDuration = Util.getTransitionDurationFromElement(activeElement)\n\n      $(activeElement)\n        .one(Util.TRANSITION_END, () => {\n          $(nextElement)\n            .removeClass(`${directionalClassName} ${orderClassName}`)\n            .addClass(CLASS_NAME_ACTIVE)\n\n          $(activeElement).removeClass(`${CLASS_NAME_ACTIVE} ${orderClassName} ${directionalClassName}`)\n\n          this._isSliding = false\n\n          setTimeout(() => $(this._element).trigger(slidEvent), 0)\n        })\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      $(activeElement).removeClass(CLASS_NAME_ACTIVE)\n      $(nextElement).addClass(CLASS_NAME_ACTIVE)\n\n      this._isSliding = false\n      $(this._element).trigger(slidEvent)\n    }\n\n    if (isCycling) {\n      this.cycle()\n    }\n  }\n\n  // Static\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      let _config = {\n        ...Default,\n        ...$(this).data()\n      }\n\n      if (typeof config === 'object') {\n        _config = {\n          ..._config,\n          ...config\n        }\n      }\n\n      const action = typeof config === 'string' ? config : _config.slide\n\n      if (!data) {\n        data = new Carousel(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'number') {\n        data.to(config)\n      } else if (typeof action === 'string') {\n        if (typeof data[action] === 'undefined') {\n          throw new TypeError(`No method named \"${action}\"`)\n        }\n\n        data[action]()\n      } else if (_config.interval && _config.ride) {\n        data.pause()\n        data.cycle()\n      }\n    })\n  }\n\n  static _dataApiClickHandler(event) {\n    const selector = Util.getSelectorFromElement(this)\n\n    if (!selector) {\n      return\n    }\n\n    const target = $(selector)[0]\n\n    if (!target || !$(target).hasClass(CLASS_NAME_CAROUSEL)) {\n      return\n    }\n\n    const config = {\n      ...$(target).data(),\n      ...$(this).data()\n    }\n    const slideIndex = this.getAttribute('data-slide-to')\n\n    if (slideIndex) {\n      config.interval = false\n    }\n\n    Carousel._jQueryInterface.call($(target), config)\n\n    if (slideIndex) {\n      $(target).data(DATA_KEY).to(slideIndex)\n    }\n\n    event.preventDefault()\n  }\n}\n\n/**\n * Data API implementation\n */\n\n$(document).on(EVENT_CLICK_DATA_API, SELECTOR_DATA_SLIDE, Carousel._dataApiClickHandler)\n\n$(window).on(EVENT_LOAD_DATA_API, () => {\n  const carousels = [].slice.call(document.querySelectorAll(SELECTOR_DATA_RIDE))\n  for (let i = 0, len = carousels.length; i < len; i++) {\n    const $carousel = $(carousels[i])\n    Carousel._jQueryInterface.call($carousel, $carousel.data())\n  }\n})\n\n/**\n * jQuery\n */\n\n$.fn[NAME] = Carousel._jQueryInterface\n$.fn[NAME].Constructor = Carousel\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Carousel._jQueryInterface\n}\n\nexport default Carousel\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","TOUCHEVENT_COMPAT_WAIT","SWIPE_THRESHOLD","CLASS_NAME_CAROUSEL","CLASS_NAME_ACTIVE","CLASS_NAME_SLIDE","CLASS_NAME_RIGHT","CLASS_NAME_LEFT","CLASS_NAME_NEXT","CLASS_NAME_PREV","CLASS_NAME_POINTER_EVENT","DIRECTION_NEXT","DIRECTION_PREV","DIRECTION_LEFT","DIRECTION_RIGHT","EVENT_SLIDE","EVENT_SLID","EVENT_KEYDOWN","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_TOUCHSTART","EVENT_TOUCHMOVE","EVENT_TOUCHEND","EVENT_POINTERDOWN","EVENT_POINTERUP","EVENT_DRAG_START","EVENT_LOAD_DATA_API","EVENT_CLICK_DATA_API","SELECTOR_ACTIVE","SELECTOR_ACTIVE_ITEM","SELECTOR_ITEM","SELECTOR_ITEM_IMG","SELECTOR_NEXT_PREV","SELECTOR_INDICATORS","SELECTOR_DATA_SLIDE","SELECTOR_DATA_RIDE","Default","interval","keyboard","slide","pause","wrap","touch","DefaultType","PointerType","TOUCH","PEN","Carousel","element","config","_items","_interval","_activeElement","_isPaused","_isSliding","touchTimeout","touchStartX","touchDeltaX","_config","_getConfig","_element","_indicatorsElement","querySelector","_touchSupported","document","documentElement","navigator","maxTouchPoints","_pointerEvent","Boolean","window","PointerEvent","MSPointerEvent","_addEventListeners","_proto","prototype","next","_slide","nextWhenVisible","$element","hidden","is","css","prev","event","Util","triggerTransitionEnd","cycle","clearInterval","_updateInterval","setInterval","visibilityState","bind","to","index","_this","activeIndex","_getItemIndex","length","one","direction","dispose","off","removeData","_extends","typeCheckConfig","_handleSwipe","absDeltax","Math","abs","_this2","on","_keydown","_addTouchEventListeners","_this3","start","originalEvent","pointerType","toUpperCase","clientX","touches","move","end","clearTimeout","setTimeout","querySelectorAll","e","preventDefault","classList","add","test","target","tagName","which","parentNode","slice","call","indexOf","_getItemByDirection","activeElement","isNextDirection","isPrevDirection","lastItemIndex","isGoingToWrap","delta","itemIndex","_triggerSlideEvent","relatedTarget","eventDirectionName","targetIndex","fromIndex","slideEvent","Event","from","trigger","_setActiveIndicatorElement","indicators","removeClass","nextIndicator","children","addClass","elementInterval","parseInt","getAttribute","defaultInterval","_this4","activeElementIndex","nextElement","nextElementIndex","isCycling","directionalClassName","orderClassName","hasClass","isDefaultPrevented","slidEvent","reflow","transitionDuration","getTransitionDurationFromElement","TRANSITION_END","emulateTransitionEnd","_jQueryInterface","each","data","action","TypeError","ride","_dataApiClickHandler","selector","getSelectorFromElement","slideIndex","_createClass","key","get","carousels","i","len","$carousel","Constructor","noConflict"],"mappings":"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"}